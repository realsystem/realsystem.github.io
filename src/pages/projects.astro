---
import BaseLayout from '../layouts/BaseLayout.astro';

// Project categories for filtering
const categories = ['All', 'Suspension', 'Armor', 'Storage', 'Electrical', 'Recovery', 'Camping'];

// Projects array - easy to add new projects as you complete them
const projects = [
  { 
    title: 'Truck Lift Kit Installation', 
    img: '/assets/images/truck1.jpg', 
    youtube: 'https://youtu.be/VIDEO_ID_1',
    category: 'Suspension',
    difficulty: 'Advanced',
    year: '2024',
    description: 'Complete suspension overhaul with 3-inch lift kit for improved ground clearance'
  },
  { 
    title: 'Custom Roof Rack Build', 
    img: '/assets/images/truck2.jpg', 
    youtube: 'https://youtu.be/VIDEO_ID_2',
    category: 'Storage',
    difficulty: 'Intermediate',
    year: '2023',
    description: 'DIY aluminum roof rack with integrated lighting and mounting points'
  },
  { 
    title: 'Overlanding Trip Setup', 
    img: '/assets/images/truck3.jpg', 
    youtube: 'https://youtu.be/VIDEO_ID_3',
    category: 'Camping',
    difficulty: 'Beginner',
    year: '2024',
    description: 'Complete expedition prep including rooftop tent and storage solutions'
  },
];

const stats = [
  { number: projects.length.toString(), label: 'Projects Completed' },
  { number: '5+', label: 'Years Building' },
  { number: '100+', label: 'Hours Documented' },
];
---

<BaseLayout title="Projects | Overlanding Project Lab">
  <!-- Hero Section -->
  <section class="relative min-h-[50vh] flex items-center justify-center px-6 bg-gradient-to-b from-gray-900 to-gray-800">
    <div class="max-w-4xl mx-auto text-center">
      <h1 class="text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-rose-500 mb-6">
        Build Projects
      </h1>
      <p class="text-xl md:text-2xl text-gray-300 leading-relaxed mb-8">
        Years of modifications, upgrades, and custom fabricationâ€”all documented for you to follow along
      </p>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="py-16 px-6 bg-gray-800">
    <div class="max-w-6xl mx-auto">
      <div class="grid md:grid-cols-3 gap-8">
        {stats.map(stat => (
          <div class="text-center">
            <div class="text-4xl md:text-5xl font-bold text-amber-400 mb-2">
              {stat.number}
            </div>
            <div class="text-gray-300 text-lg">{stat.label}</div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Filter Section (for future use) -->
  <section class="py-12 px-6 bg-gray-900">
    <div class="max-w-6xl mx-auto">
      <div class="flex flex-wrap justify-center gap-3">
        {categories.map(category => (
          <button 
            class="px-4 py-2 rounded-lg font-medium transition-all category-filter
                   bg-gray-800 text-gray-300 hover:bg-gray-700
                   data-[active=true]:bg-amber-500 data-[active=true]:text-gray-900"
            data-category={category}
            data-active={category === 'All' ? 'true' : 'false'}
          >
            {category}
          </button>
        ))}
      </div>
    </div>
  </section>

  <!-- Projects Grid -->
  <section class="py-16 px-6 max-w-6xl mx-auto">
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="projects-grid">
      {projects.map(project => (
        <article 
          class="group rounded-lg overflow-hidden shadow-xl bg-gray-900 transform hover:scale-105 transition-all project-card"
          data-category={project.category}
        >
          <a href={project.youtube} target="_blank" rel="noopener noreferrer" class="block">
            <div class="relative overflow-hidden">
              <img 
                src={project.img} 
                alt={project.title} 
                class="w-full h-56 object-cover group-hover:brightness-75 transition-all"
              />
              <div class="absolute top-3 right-3 bg-gray-900/90 px-3 py-1 rounded-full text-xs font-semibold text-amber-400">
                {project.year}
              </div>
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                <span class="text-white text-5xl">â–¶</span>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center gap-2 mb-3">
                <span class="text-xs font-semibold px-2 py-1 rounded bg-gray-800 text-amber-400">
                  {project.category}
                </span>
                <span class="text-xs text-gray-500">â€¢</span>
                <span class="text-xs text-gray-400">{project.difficulty}</span>
              </div>
              <h2 class="text-xl font-semibold text-gray-100 mb-2 group-hover:text-amber-400 transition-colors">
                {project.title}
              </h2>
              <p class="text-gray-400 text-sm line-clamp-2">
                {project.description}
              </p>
              <div class="mt-4 flex items-center text-amber-400 text-sm font-medium">
                Watch Build Video 
                <span class="ml-2 group-hover:translate-x-1 transition-transform">â†’</span>
              </div>
            </div>
          </a>
        </article>
      ))}
    </div>
  </section>

  <!-- Coming Soon Section -->
  <section class="py-16 px-6 bg-gray-800">
    <div class="max-w-4xl mx-auto text-center">
      <h2 class="text-3xl font-bold text-gray-100 mb-4">
        More Projects Coming Soon
      </h2>
      <p class="text-gray-300 text-lg mb-8">
        I'm constantly working on new modifications and upgrades. Subscribe to stay updated on the latest builds.
      </p>
      <a 
        href="https://www.youtube.com/@realsystemrobot?sub_confirmation=1"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-block px-8 py-4 bg-amber-500 hover:bg-amber-600 rounded-lg font-semibold text-gray-900 transition-all transform hover:scale-105"
      >
        Subscribe for Updates
      </a>
    </div>
  </section>

  <!-- Project Ideas Section -->
  <section class="py-20 px-6 max-w-6xl mx-auto">
    <h2 class="text-3xl md:text-4xl font-bold text-gray-100 text-center mb-12">
      What's Next?
    </h2>
    <div class="grid md:grid-cols-3 gap-8">
      <div class="bg-gray-800 p-6 rounded-lg shadow-xl text-center">
        <div class="text-4xl mb-4">ðŸ”©</div>
        <h3 class="text-xl font-bold text-amber-400 mb-2">Rock Sliders</h3>
        <p class="text-gray-300 text-sm">Custom welded protection for challenging trails</p>
      </div>
      <div class="bg-gray-800 p-6 rounded-lg shadow-xl text-center">
        <div class="text-4xl mb-4">âš¡</div>
        <h3 class="text-xl font-bold text-amber-400 mb-2">Dual Battery System</h3>
        <p class="text-gray-300 text-sm">Extended power for off-grid camping</p>
      </div>
      <div class="bg-gray-800 p-6 rounded-lg shadow-xl text-center">
        <div class="text-4xl mb-4">ðŸŽ’</div>
        <h3 class="text-xl font-bold text-amber-400 mb-2">Drawer System</h3>
        <p class="text-gray-300 text-sm">Organized bed storage solution</p>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  // Simple category filter functionality
  document.addEventListener('DOMContentLoaded', () => {
    const filterButtons = document.querySelectorAll('.category-filter');
    const projectCards = document.querySelectorAll('.project-card');

    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        const category = button.getAttribute('data-category');
        
        // Update active state
        filterButtons.forEach(btn => btn.setAttribute('data-active', 'false'));
        button.setAttribute('data-active', 'true');

        // Filter projects
        projectCards.forEach(card => {
          const cardCategory = card.getAttribute('data-category');
          if (category === 'All' || cardCategory === category) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
      });
    });
  });
</script>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
